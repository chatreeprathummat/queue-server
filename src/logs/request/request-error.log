{"error":"Can't add new command when connection is in closed state","level":"error","message":"Error getting database connection","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePoolConnection.query (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\mysql2\\lib\\promise\\connection.js:29:22)\n    at ManagementDB.getConnection (D:\\project\\sgh-project\\vs-project\\server\\services\\ManagementDB.js:45:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\server\\controllers\\AssignsServices.js:142:22\n    at async D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-05 15:56:44"}
{"error":"Can't add new command when connection is in closed state","level":"error","message":"Error getting database connection","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePoolConnection.query (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\mysql2\\lib\\promise\\connection.js:29:22)\n    at ManagementDB.getConnection (D:\\project\\sgh-project\\vs-project\\server\\services\\ManagementDB.js:45:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\server\\controllers\\AssignsServices.js:142:22\n    at async D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-05 15:56:55"}
{"error":"Can't add new command when connection is in closed state","level":"error","message":"Error getting database connection","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePoolConnection.query (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\mysql2\\lib\\promise\\connection.js:29:22)\n    at ManagementDB.getConnection (D:\\project\\sgh-project\\vs-project\\server\\services\\ManagementDB.js:45:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\server\\controllers\\AssignsServices.js:142:22\n    at async D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-05 15:56:57"}
{"error":"Can't add new command when connection is in closed state","level":"error","message":"Error getting database connection","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePoolConnection.query (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\mysql2\\lib\\promise\\connection.js:29:22)\n    at ManagementDB.getConnection (D:\\project\\sgh-project\\vs-project\\server\\services\\ManagementDB.js:45:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\server\\controllers\\AssignsServices.js:142:22\n    at async D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-05 15:59:11"}
{"error":"Can't add new command when connection is in closed state","level":"error","message":"Error getting database connection","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePoolConnection.query (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\mysql2\\lib\\promise\\connection.js:29:22)\n    at ManagementDB.getConnection (D:\\project\\sgh-project\\vs-project\\server\\services\\ManagementDB.js:45:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\server\\controllers\\AssignsServices.js:142:22\n    at async D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-05 15:59:30"}
{"error":"Can't add new command when connection is in closed state","level":"error","message":"Error getting database connection","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePoolConnection.query (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\mysql2\\lib\\promise\\connection.js:29:22)\n    at ManagementDB.getConnection (D:\\project\\sgh-project\\vs-project\\server\\services\\ManagementDB.js:45:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\server\\controllers\\AssignsServices.js:142:22\n    at async D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-05 15:59:31"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"x07xoho94o","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\server\\controllers\\RecordVS.js:256:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-09 12:19:48"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-09 12:19:48"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"bafx1hokpvf","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\server\\controllers\\RecordVS.js:256:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-09 12:20:11"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-09 12:20:11"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"bz5d0cysvho","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\server\\controllers\\RecordVS.js:256:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-09 12:20:12"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-09 12:20:12"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"7tq2fz5hku5","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\server\\controllers\\RecordVS.js:256:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-09 12:20:21"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-09 12:20:21"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"slgbwwxc6mo","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\server\\controllers\\RecordVS.js:256:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-09 12:20:22"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-09 12:20:22"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"6j23csy6oi2","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\server\\controllers\\RecordVS.js:256:5\n    at D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:50:13\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-09 12:20:25"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-09 12:20:25"}
{"duration":"143ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"3ajxdd2char","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\vsproject\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\vsproject\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-11 08:42:08"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\vsproject\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-11 08:42:08"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"ty927cfagw","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\vsproject\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\vsproject\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-11 08:42:09"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\vsproject\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-11 08:42:09"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"qufbjsfe3en","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\vsproject\\server\\controllers\\RecordVS.js:259:5\n    at D:\\project\\sgh-project\\vs-project\\vsproject\\server\\services\\logging\\controllers\\requestLogger.js:50:13\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-11 08:42:16"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\vsproject\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\vsproject\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-11 08:42:16"}
{"duration":"50ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"lqu7gvygvao","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-11 09:19:29"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-11 09:19:29"}
{"duration":"1ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"erjjdk6tjmg","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:50:13\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-11 09:19:37"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-11 09:19:37"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"p71faogq2jp","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-11 09:21:00"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-11 09:21:00"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"ownp5k06smj","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-11 09:21:05"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-11 09:21:05"}
{"error":"This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery'","level":"error","message":"Error fetching data","params":[null,"VSR-6706172-20250423161426-929"],"sql":"\n      SELECT value \n      FROM tbl_ur_vsrecorddetail \n      WHERE type = 'SBP' \n      AND recordId IN (\n        SELECT recordId \n        FROM tbl_ur_vsrecordheader \n        WHERE an = ? \n        AND recordId != ? \n        AND del_flag IS NULL\n        ORDER BY recordedAt DESC \n        LIMIT 1\n      )\n    ","timestamp":"2025-04-23 16:14:26"}
{"error":"This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery'","level":"error","message":"Error fetching data","params":[null,"VSR-6706172-20250423161441-579"],"sql":"\n      SELECT value \n      FROM tbl_ur_vsrecorddetail \n      WHERE type = 'SBP' \n      AND recordId IN (\n        SELECT recordId \n        FROM tbl_ur_vsrecordheader \n        WHERE an = ? \n        AND recordId != ? \n        AND del_flag IS NULL\n        ORDER BY recordedAt DESC \n        LIMIT 1\n      )\n    ","timestamp":"2025-04-23 16:14:41"}
{"error":"This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery'","level":"error","message":"Error fetching data","params":[null,"VSR-6706172-20250423161526-407"],"sql":"\n      SELECT value \n      FROM tbl_ur_vsrecorddetail \n      WHERE type = 'SBP' \n      AND recordId IN (\n        SELECT recordId \n        FROM tbl_ur_vsrecordheader \n        WHERE an = ? \n        AND recordId != ? \n        AND del_flag IS NULL\n        ORDER BY recordedAt DESC \n        LIMIT 1\n      )\n    ","timestamp":"2025-04-23 16:15:26"}
{"error":"This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery'","level":"error","message":"Error fetching data","params":[null,"VSR-6706172-20250423161604-237"],"sql":"\n      SELECT value \n      FROM tbl_ur_vsrecorddetail \n      WHERE type = 'SBP' \n      AND recordId IN (\n        SELECT recordId \n        FROM tbl_ur_vsrecordheader \n        WHERE an = ? \n        AND recordId != ? \n        AND del_flag IS NULL\n        ORDER BY recordedAt DESC \n        LIMIT 1\n      )\n    ","timestamp":"2025-04-23 16:16:04"}
{"duration":"10ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"jbmzesqwere","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-24 11:58:33"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-24 11:58:33"}
{"error":"Unexpected token ',', ...\"rt\",\"SBP\":,\"DBP\":120\"... is not valid JSON","level":"error","message":"Application error","method":"POST","path":"/api/vs/calcNewscore","stack":"SyntaxError: Unexpected token ',', ...\"rt\",\"SBP\":,\"DBP\":120\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\raw-body\\index.js:238:16)\n    at done (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-04-24 11:58:37"}
{"duration":"1ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"g5dxlfqqd2s","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:50:13\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-24 11:58:41"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-24 11:58:41"}
{"error":"Unexpected non-whitespace character after JSON at position 292 (line 34 column 1)","level":"error","message":"Application error","method":"POST","path":"/api/vs/record","stack":"SyntaxError: Unexpected non-whitespace character after JSON at position 292 (line 34 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\raw-body\\index.js:238:16)\n    at done (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-04-24 14:51:35"}
{"error":"This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery'","level":"error","message":"Error fetching data","params":[null,"VSR-6706172-20250425133533-312"],"sql":"\n    SELECT value \n    FROM tbl_ur_vsrecorddetail \n    WHERE type = 'SBP' \n    AND recordId IN (\n      SELECT recordId \n      FROM tbl_ur_vsrecordheader \n      WHERE an = ? \n      AND recordId != ? \n      AND del_flag IS NULL \n      ORDER BY recordedAt DESC \n      LIMIT 1\n    )\n  ","timestamp":"2025-04-25 13:35:33"}
{"error":"This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery'","level":"error","message":"Error fetching data","params":[null,"VSR-6706172-20250425133535-482"],"sql":"\n    SELECT value \n    FROM tbl_ur_vsrecorddetail \n    WHERE type = 'SBP' \n    AND recordId IN (\n      SELECT recordId \n      FROM tbl_ur_vsrecordheader \n      WHERE an = ? \n      AND recordId != ? \n      AND del_flag IS NULL \n      ORDER BY recordedAt DESC \n      LIMIT 1\n    )\n  ","timestamp":"2025-04-25 13:35:35"}
{"error":"This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery'","level":"error","message":"Error fetching data","params":[null,"VSR-6706172-20250425133536-783"],"sql":"\n    SELECT value \n    FROM tbl_ur_vsrecorddetail \n    WHERE type = 'SBP' \n    AND recordId IN (\n      SELECT recordId \n      FROM tbl_ur_vsrecordheader \n      WHERE an = ? \n      AND recordId != ? \n      AND del_flag IS NULL \n      ORDER BY recordedAt DESC \n      LIMIT 1\n    )\n  ","timestamp":"2025-04-25 13:35:36"}
{"error":"This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery'","level":"error","message":"Error fetching data","params":[null,"VSR-6706172-20250425133543-811"],"sql":"\n    SELECT value \n    FROM tbl_ur_vsrecorddetail \n    WHERE type = 'SBP' \n    AND recordId IN (\n      SELECT recordId \n      FROM tbl_ur_vsrecordheader \n      WHERE an = ? \n      AND recordId != ? \n      AND del_flag IS NULL \n      ORDER BY recordedAt DESC \n      LIMIT 1\n    )\n  ","timestamp":"2025-04-25 13:35:43"}
{"error":"This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery'","level":"error","message":"Error fetching data","params":[null,"VSR-6706172-20250425133544-139"],"sql":"\n    SELECT value \n    FROM tbl_ur_vsrecorddetail \n    WHERE type = 'SBP' \n    AND recordId IN (\n      SELECT recordId \n      FROM tbl_ur_vsrecordheader \n      WHERE an = ? \n      AND recordId != ? \n      AND del_flag IS NULL \n      ORDER BY recordedAt DESC \n      LIMIT 1\n    )\n  ","timestamp":"2025-04-25 13:35:44"}
{"error":"This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery'","level":"error","message":"Error fetching data","params":[null,"VSR-6706172-20250425133548-427"],"sql":"\n    SELECT value \n    FROM tbl_ur_vsrecorddetail \n    WHERE type = 'SBP' \n    AND recordId IN (\n      SELECT recordId \n      FROM tbl_ur_vsrecordheader \n      WHERE an = ? \n      AND recordId != ? \n      AND del_flag IS NULL \n      ORDER BY recordedAt DESC \n      LIMIT 1\n    )\n  ","timestamp":"2025-04-25 13:35:48"}
{"error":"This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery'","level":"error","message":"Error fetching data","params":[null,"VSR-6706172-20250425133607-856"],"sql":"\n    SELECT value \n    FROM tbl_ur_vsrecorddetail \n    WHERE type = 'SBP' \n    AND recordId IN (\n      SELECT recordId \n      FROM tbl_ur_vsrecordheader \n      WHERE an = ? \n      AND recordId != ? \n      AND del_flag IS NULL \n      ORDER BY recordedAt DESC \n      LIMIT 1\n    )\n  ","timestamp":"2025-04-25 13:36:07"}
{"error":"This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery'","level":"error","message":"Error fetching data","params":[null,"VSR-6706172-20250425133608-837"],"sql":"\n    SELECT value \n    FROM tbl_ur_vsrecorddetail \n    WHERE type = 'SBP' \n    AND recordId IN (\n      SELECT recordId \n      FROM tbl_ur_vsrecordheader \n      WHERE an = ? \n      AND recordId != ? \n      AND del_flag IS NULL \n      ORDER BY recordedAt DESC \n      LIMIT 1\n    )\n  ","timestamp":"2025-04-25 13:36:08"}
{"error":"This version of MySQL doesn't yet support 'LIMIT & IN/ALL/ANY/SOME subquery'","level":"error","message":"Error fetching data","params":[null,"VSR-6706172-20250425133609-125"],"sql":"\n    SELECT value \n    FROM tbl_ur_vsrecorddetail \n    WHERE type = 'SBP' \n    AND recordId IN (\n      SELECT recordId \n      FROM tbl_ur_vsrecordheader \n      WHERE an = ? \n      AND recordId != ? \n      AND del_flag IS NULL \n      ORDER BY recordedAt DESC \n      LIMIT 1\n    )\n  ","timestamp":"2025-04-25 13:36:09"}
{"error":"Cannot add or update a child row: a foreign key constraint fails (`sgh2`.`tbl_ur_vsrecorddetail`, CONSTRAINT `fk_vsrecorddetail_recordId` FOREIGN KEY (`recordId`) REFERENCES `tbl_ur_vsrecordheader` (`recordId`) ON DELETE CASCADE ON UPDATE CASCADE)","level":"error","message":"Error inserting data","params":["VSR-6706172-20250425134434-588","RR",20,null,"ปกติ","NURSE001"],"sql":"\n          INSERT INTO tbl_ur_vsrecorddetail\n            (recordId, type, value, valueText, rangeResult,\n             user_created, date_created, del_flag)\n          VALUES (?, ?, ?, ?, ?, ?, NOW(), '')\n        ","timestamp":"2025-04-25 13:44:34"}
{"error":"Cannot add or update a child row: a foreign key constraint fails (`sgh2`.`tbl_ur_vsrecorddetail`, CONSTRAINT `fk_vsrecorddetail_recordId` FOREIGN KEY (`recordId`) REFERENCES `tbl_ur_vsrecordheader` (`recordId`) ON DELETE CASCADE ON UPDATE CASCADE)","level":"error","message":"Error inserting data","params":["VSR-6706172-20250425134436-990","RR",20,null,"ปกติ","NURSE001"],"sql":"\n          INSERT INTO tbl_ur_vsrecorddetail\n            (recordId, type, value, valueText, rangeResult,\n             user_created, date_created, del_flag)\n          VALUES (?, ?, ?, ?, ?, ?, NOW(), '')\n        ","timestamp":"2025-04-25 13:44:36"}
{"duration":"62ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"nj1cwe7g62","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 14:36:06"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:36:06"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"qh0796yzhn","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 14:36:12"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:36:12"}
{"duration":"1ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"6tkm70kb5sd","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 14:36:13"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:36:13"}
{"duration":"1ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"g22arrjjme","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:50:13\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-25 14:36:21"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:36:21"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"ds284vanog9","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:50:13\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-25 14:36:23"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:36:23"}
{"duration":"1ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"4mieu1jhrit","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:50:13\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-04-25 14:36:24"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:36:24"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"vtjjllvydbl","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 14:36:30"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:36:30"}
{"duration":"1ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"0awlhondxi5c","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 14:36:31"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:36:31"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"3nr7sc40tes","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 14:36:33"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:36:33"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"rtsv4vgtbub","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 14:45:21"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:45:21"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"u7yh3svpq7m","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 14:45:23"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:45:23"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"71ox1z5pbjc","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 14:45:24"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:45:24"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"tg23cx8x8f","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 14:47:51"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:47:51"}
{"duration":"1ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"pub5q5t3tcd","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 14:47:52"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:47:52"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"9h65l3knj9u","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 14:54:53"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:54:53"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"npyey65a8nb","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 14:54:54"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 14:54:54"}
{"duration":"60ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"1vsgav3q7v1","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:283:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 15:04:11"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 15:04:11"}
{"duration":"5ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"ajd0b5suck7","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:283:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 15:04:12"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 15:04:12"}
{"duration":"4ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"008ot42cavij","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:283:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 15:04:13"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 15:04:13"}
{"duration":"4ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"9hb5b5246ym","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:283:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 15:04:14"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 15:04:14"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"edy8j6gan18","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:283:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 15:04:15"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 15:04:15"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"koc7leugjq","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 15:17:43"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 15:17:43"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"ipr531oookf","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 15:18:18"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 15:18:18"}
{"duration":"4ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"1titlih6fg4","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 15:18:31"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 15:18:31"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"1v4pfhyty67h","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 15:18:32"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 15:18:32"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"2t4s1jlhyxb","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:259:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-04-25 15:18:33"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-04-25 15:18:33"}
{"duration":"28ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"793t1cqy49e","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:283:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 11:11:45"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 11:11:45"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"u10tpypwwhq","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:283:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 11:12:26"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 11:12:26"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"kz5ewxjj6ji","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:283:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 11:12:28"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 11:12:28"}
{"duration":"48ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"7aameq3e15t","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:299:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 11:27:59"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 11:27:59"}
{"level":"error","message":"Unhandled Rejection","reason":"connection is not defined","stack":"ReferenceError: connection is not defined\n    at exports.vitalSignsRecording (D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:1007:5)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2025-05-07 11:43:29"}
{"level":"error","message":"Unhandled Rejection","reason":"connection is not defined","stack":"ReferenceError: connection is not defined\n    at exports.vitalSignsRecording (D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:980:5)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2025-05-07 11:46:53"}
{"level":"error","message":"Unhandled Rejection","reason":"connection is not defined","stack":"ReferenceError: connection is not defined\n    at exports.vitalSignsRecording (D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:980:5)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2025-05-07 11:47:19"}
{"level":"error","message":"Unhandled Rejection","reason":"connection is not defined","stack":"ReferenceError: connection is not defined\n    at exports.vitalSignsRecording (D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:995:5)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2025-05-07 11:48:58"}
{"level":"error","message":"Unhandled Rejection","reason":"connection is not defined","stack":"ReferenceError: connection is not defined\n    at exports.vitalSignsRecording (D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:995:5)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2025-05-07 11:48:59"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"zeiwjzphdog","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:299:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 11:54:59"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 11:54:59"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"hse7r9k38jn","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:299:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 11:55:07"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 11:55:07"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"aszaxw3j9q","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:299:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 11:55:08"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 11:55:08"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"era99j91ys","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:299:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 11:55:12"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 11:55:12"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"6vi1e8ogg9m","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:299:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 11:57:33"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 11:57:33"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"8xqye1r43ra","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:299:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 11:57:34"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 11:57:34"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"gizs7rh0f4","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:299:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 11:57:35"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 11:57:35"}
{"duration":"44ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"wfjyvxiedrb","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:283:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 12:09:45"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 12:09:45"}
{"duration":"3ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"0sv2pra4sask","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:283:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 12:09:46"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 12:09:46"}
{"duration":"2ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"ik5r56i8ta","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:283:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 12:09:47"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 12:09:47"}
{"duration":"48ms","error":"connection is not defined","level":"error","message":"Request failed","requestId":"sdi3kpz7qyi","stack":"ReferenceError: connection is not defined\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\controllers\\RecordVS.js:283:5\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-07 12:11:38"}
{"level":"error","message":"Unhandled Rejection","reason":"Cannot set headers after they are sent to the client","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\project\\sgh-project\\vs-project\\dev\\server\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\project\\sgh-project\\vs-project\\dev\\server\\services\\logging\\controllers\\requestLogger.js:87:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-07 12:11:38"}
{"error":"Unexpected token '}', ...\"          }\r\n\r\n    \n\"... is not valid JSON","level":"error","message":"ข้อผิดพลาดในแอปพลิเคชัน","method":"POST","path":"/api/nc/saveNCRecord","stack":"SyntaxError: Unexpected token '}', ...\"          }\r\n\r\n    \n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:238:16)\n    at done (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-05-24 15:28:53"}
{"error":"Unexpected token '}', ...\"          }\r\n\r\n    \n\"... is not valid JSON","level":"error","message":"ข้อผิดพลาดในแอปพลิเคชัน","method":"POST","path":"/api/nc/saveNCRecord","stack":"SyntaxError: Unexpected token '}', ...\"          }\r\n\r\n    \n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:238:16)\n    at done (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-05-24 15:31:34"}
{"error":"Unexpected token '}', ...\"          }\r\n\r\n    \n\"... is not valid JSON","level":"error","message":"ข้อผิดพลาดในแอปพลิเคชัน","method":"POST","path":"/api/nc/saveNCRecord","stack":"SyntaxError: Unexpected token '}', ...\"          }\r\n\r\n    \n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:238:16)\n    at done (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-05-24 15:31:35"}
{"error":"Unexpected token '}', ...\"          }\r\n\r\n    \n\"... is not valid JSON","level":"error","message":"ข้อผิดพลาดในแอปพลิเคชัน","method":"POST","path":"/api/nc/saveNCRecord","stack":"SyntaxError: Unexpected token '}', ...\"          }\r\n\r\n    \n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at parse (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:238:16)\n    at done (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-05-24 15:32:05"}
{"error":"Can't add new command when connection is in closed state","level":"error","message":"Error getting database connection","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePoolConnection.query (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\mysql2\\lib\\promise\\connection.js:29:22)\n    at ManagementDB.getConnection (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\ManagementDB.js:51:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\controllers\\RecordNC.js:439:18\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-24 16:21:01"}
{"error":"Can't add new command when connection is in closed state","level":"error","message":"Error getting database connection","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePoolConnection.query (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\mysql2\\lib\\promise\\connection.js:29:22)\n    at ManagementDB.getConnection (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\ManagementDB.js:51:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\controllers\\RecordNC.js:439:18\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-24 16:21:09"}
{"error":"Can't add new command when connection is in closed state","level":"error","message":"Error getting database connection","stack":"Error: Can't add new command when connection is in closed state\n    at PromisePoolConnection.query (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\mysql2\\lib\\promise\\connection.js:29:22)\n    at ManagementDB.getConnection (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\ManagementDB.js:51:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\controllers\\RecordNC.js:857:18\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-24 16:27:01"}
{"duration":"30000ms","error":"Request timeout","level":"error","message":"Request failed","requestId":"0frk41dm1nvq","stack":"Error: Request timeout\n    at Timeout._onTimeout (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:16:14)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-05-26 12:15:12"}
{"error":"Unexpected non-whitespace character after JSON at position 68 (line 21 column 1)","level":"error","message":"ข้อผิดพลาดในแอปพลิเคชัน","method":"POST","path":"/api/nc/getHistory","stack":"SyntaxError: Unexpected non-whitespace character after JSON at position 68 (line 21 column 1)\n    at JSON.parse (<anonymous>)\n    at parse (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:211:14)\n    at invokeCallback (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:238:16)\n    at done (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:524:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2025-05-29 20:13:44"}
{"duration":"30031ms","error":"Request timeout","level":"error","message":"Request failed","requestId":"klihex0dw5s","stack":"Error: Request timeout\n    at Timeout._onTimeout (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:16:14)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-05-29 20:15:33"}
{"level":"error","message":"Error validating user from MySQL:","timestamp":"2025-05-30 14:35:03"}
{"error":"ไม่สามารถตรวจสอบข้อมูล user จาก MySQL ได้","level":"error","message":"Error in hybrid login:","stack":"Error: ไม่สามารถตรวจสอบข้อมูล user จาก MySQL ได้\n    at HybridAuthService.validateUserFromMySQL (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:221:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:83:27)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\controllers\\AuthController.js:68:27\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-30 14:35:03","username":"admin"}
{"level":"error","message":"Error validating user from MySQL:","timestamp":"2025-05-30 14:35:20"}
{"error":"ไม่สามารถตรวจสอบข้อมูล user จาก MySQL ได้","level":"error","message":"Error in hybrid login:","stack":"Error: ไม่สามารถตรวจสอบข้อมูล user จาก MySQL ได้\n    at HybridAuthService.validateUserFromMySQL (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:221:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:83:27)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\controllers\\AuthController.js:68:27\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-30 14:35:20","username":"admin"}
{"level":"error","message":"Error syncing user to MySQL:","timestamp":"2025-05-30 14:35:47"}
{"error":"ไม่สามารถ sync ข้อมูล user ได้","level":"error","message":"Error in hybrid login:","stack":"Error: ไม่สามารถ sync ข้อมูล user ได้\n    at HybridAuthService.syncUserToMySQL (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:318:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:108:28)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\controllers\\AuthController.js:68:27\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-30 14:35:47","username":"comchatree"}
{"level":"error","message":"Error syncing user to MySQL:","timestamp":"2025-05-30 14:43:08"}
{"error":"ไม่สามารถ sync ข้อมูล user ได้","level":"error","message":"Error in hybrid login:","stack":"Error: ไม่สามารถ sync ข้อมูล user ได้\n    at HybridAuthService.syncUserToMySQL (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:318:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:108:28)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\controllers\\AuthController.js:68:27\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-30 14:43:08","username":"comchatree"}
{"level":"error","message":"Error syncing user to MySQL:","timestamp":"2025-05-30 14:43:33"}
{"error":"ไม่สามารถ sync ข้อมูล user ได้","level":"error","message":"Error in hybrid login:","stack":"Error: ไม่สามารถ sync ข้อมูล user ได้\n    at HybridAuthService.syncUserToMySQL (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:318:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:108:28)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\controllers\\AuthController.js:68:27\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-30 14:43:33","username":"comchatree"}
{"level":"error","message":"Error syncing user to MySQL:","timestamp":"2025-05-30 14:43:35"}
{"error":"ไม่สามารถ sync ข้อมูล user ได้","level":"error","message":"Error in hybrid login:","stack":"Error: ไม่สามารถ sync ข้อมูล user ได้\n    at HybridAuthService.syncUserToMySQL (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:318:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:108:28)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\controllers\\AuthController.js:68:27\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-30 14:43:35","username":"comchatree"}
{"level":"error","message":"Error syncing user to MySQL:","timestamp":"2025-05-30 14:43:36"}
{"error":"ไม่สามารถ sync ข้อมูล user ได้","level":"error","message":"Error in hybrid login:","stack":"Error: ไม่สามารถ sync ข้อมูล user ได้\n    at HybridAuthService.syncUserToMySQL (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:318:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:108:28)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\controllers\\AuthController.js:68:27\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-30 14:43:36","username":"comchatree"}
{"authSource":"Oracle","error":"Cannot read properties of undefined (reading 'request')","level":"error","message":"Critical error in hybrid login:","placecode":"5","stack":"TypeError: Cannot read properties of undefined (reading 'request')\n    at ManagementDB.getConnection (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\ManagementDB.js:181:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:94:25)\n    at async testHybridAuthStepByStep (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\debug_login_error.js:155:25)\n    at async debugLoginError (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\debug_login_error.js:49:5)","timestamp":"2025-05-30 14:47:48","useOracleAuth":true,"username":"comchatree"}
{"level":"error","message":"Error syncing user to MySQL:","timestamp":"2025-05-30 14:49:54"}
{"authSource":"Oracle","error":"ไม่สามารถ sync ข้อมูล user ได้","level":"error","message":"Critical error in hybrid login:","placecode":"5","stack":"Error: ไม่สามารถ sync ข้อมูล user ได้\n    at HybridAuthService.syncUserToMySQL (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:351:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:133:28)\n    at async testHybridAuthStepByStep (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\debug_login_error.js:155:25)\n    at async debugLoginError (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\debug_login_error.js:49:5)","timestamp":"2025-05-30 14:49:54","useOracleAuth":true,"username":"comchatree"}
{"level":"error","message":"Error syncing user to MySQL:","timestamp":"2025-05-30 14:52:45"}
{"authSource":"Oracle","error":"ไม่สามารถ sync ข้อมูล user ได้","level":"error","message":"Critical error in hybrid login:","placecode":"5","stack":"Error: ไม่สามารถ sync ข้อมูล user ได้\n    at HybridAuthService.syncUserToMySQL (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:351:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:133:28)\n    at async testHybridAuthStepByStep (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\debug_login_error.js:153:25)\n    at async debugLoginError (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\debug_login_error.js:49:5)","timestamp":"2025-05-30 14:52:45","useOracleAuth":true,"username":"comchatree"}
{"level":"error","message":"Error syncing user to MySQL:","timestamp":"2025-05-30 14:54:15"}
{"authSource":"Oracle","error":"ไม่สามารถ sync ข้อมูล user ได้","level":"error","message":"Critical error in hybrid login:","placecode":"5","stack":"Error: ไม่สามารถ sync ข้อมูล user ได้\n    at HybridAuthService.syncUserToMySQL (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:351:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:133:28)\n    at async testHybridAuthStepByStep (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\debug_login_error.js:153:25)\n    at async debugLoginError (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\debug_login_error.js:49:5)","timestamp":"2025-05-30 14:54:15","useOracleAuth":true,"username":"comchatree"}
{"level":"error","message":"Error syncing user to MySQL:","timestamp":"2025-05-30 14:55:59"}
{"authSource":"Oracle","error":"ไม่สามารถ sync ข้อมูล user ได้","level":"error","message":"Critical error in hybrid login:","placecode":"5","stack":"Error: ไม่สามารถ sync ข้อมูล user ได้\n    at HybridAuthService.syncUserToMySQL (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:351:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:133:28)\n    at async testAPILogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\test_api_login.js:36:25)","timestamp":"2025-05-30 14:55:59","useOracleAuth":true,"username":"comchatree"}
{"level":"error","message":"Error syncing user to MySQL:","timestamp":"2025-05-30 14:58:56"}
{"authSource":"Oracle","error":"ไม่สามารถ sync ข้อมูล user ได้","level":"error","message":"Critical error in hybrid login:","placecode":"5","stack":"Error: ไม่สามารถ sync ข้อมูล user ได้\n    at HybridAuthService.syncUserToMySQL (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:351:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:133:28)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\controllers\\AuthController.js:68:27\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-30 14:58:56","useOracleAuth":true,"username":"comchatree"}
{"level":"error","message":"Error syncing user to MySQL:","timestamp":"2025-05-30 14:59:15"}
{"authSource":"Oracle","error":"ไม่สามารถ sync ข้อมูล user ได้","level":"error","message":"Critical error in hybrid login:","placecode":"5","stack":"Error: ไม่สามารถ sync ข้อมูล user ได้\n    at HybridAuthService.syncUserToMySQL (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:351:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async HybridAuthService.hybridLogin (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\HybridAuthService.js:133:28)\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\controllers\\AuthController.js:68:27\n    at async D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:47:22","timestamp":"2025-05-30 14:59:15","useOracleAuth":true,"username":"comchatree"}
{"duration":"30005ms","error":"Request timeout","level":"error","message":"Request failed","requestId":"bb7nle10nbe","stack":"Error: Request timeout\n    at Timeout._onTimeout (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:16:14)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-05-30 17:20:35"}
{"duration":"30015ms","error":"Request timeout","level":"error","message":"Request failed","requestId":"6ybf6yztwbl","stack":"Error: Request timeout\n    at Timeout._onTimeout (D:\\project\\sgh-project\\vs-project\\dev\\nursing-system\\nursing-server\\services\\logging\\controllers\\requestLogger.js:16:14)\n    at listOnTimeout (node:internal/timers:594:17)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2025-05-30 17:22:44"}
