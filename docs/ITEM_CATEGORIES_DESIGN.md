# р╕Бр╕▓р╕гр╕нр╕нр╕Бр╣Бр╕Ър╕Ър╕Хр╕▓р╕гр╕▓р╕Зр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕кр╕┤р╕Щр╕Др╣Йр╕▓ (Item Categories)

## ЁЯУЛ р╕ар╕▓р╕Юр╕гр╕зр╕б

р╕гр╕░р╕Ър╕Ър╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Цр╕╣р╕Бр╕нр╕нр╕Бр╣Бр╕Ър╕Ър╣Гр╕лр╣Йр╕вр╕╖р╕Фр╕лр╕вр╕╕р╣Ир╕Щр╣Бр╕ер╕░р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Фр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╣Гр╕Щр╕нр╕Щр╕▓р╕Др╕Х р╕Юр╕гр╣Йр╕нр╕бр╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Юр╕┤р╣Ар╕ир╕йр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕вр╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Лр╕╖р╣Йр╕н

## ЁЯПЧя╕П р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕З

### 1. р╕Хр╕▓р╕гр╕▓р╕Зр╕лр╕ер╕▒р╕Б: `tbl_inv_item_categories`

#### р╕Яр╕┤р╕ер╕Фр╣Мр╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ
- `id` - р╕гр╕лр╕▒р╕кр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И (Auto Increment)
- `category_code` - р╕гр╕лр╕▒р╕кр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И (Unique)
- `category_name_th` - р╕Кр╕╖р╣Ир╕нр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕ар╕▓р╕йр╕▓р╣Др╕Чр╕в
- `category_name_en` - р╕Кр╕╖р╣Ир╕нр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕ар╕▓р╕йр╕▓р╕нр╕▒р╕Зр╕Бр╕др╕й
- `parent_category_id` - р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕лр╕ер╕▒р╕Б (р╕кр╕│р╕лр╕гр╕▒р╕Ър╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕вр╣Ир╕нр╕в)
- `category_level` - р╕гр╕░р╕Фр╕▒р╕Ър╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И (1=р╕лр╕ер╕▒р╕Б, 2=р╕вр╣Ир╕нр╕в, 3=р╕вр╣Ир╕нр╕вр╕Вр╕нр╕Зр╕вр╣Ир╕нр╕в)
- `category_path` - р╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕Зр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И (р╣Ар╕Кр╣Ир╕Щ /1/5/12)

#### р╕Яр╕┤р╕ер╕Фр╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
- `requires_patient_info` - р╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
- `requires_hn` - р╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕ HN
- `requires_patient_name` - р╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
- `requires_medical_justification` - р╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╣Ар╕лр╕Хр╕╕р╕Ьр╕ер╕Чр╕▓р╕Зр╕Бр╕▓р╕гр╣Бр╕Юр╕Чр╕вр╣М
- `requires_doctor_approval` - р╕Хр╣Йр╕нр╕Зр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤р╕Ир╕▓р╕Бр╣Бр╕Юр╕Чр╕вр╣М
- `requires_special_handling` - р╕Хр╣Йр╕нр╕Зр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Юр╕┤р╣Ар╕ир╕й

#### р╕Яр╕┤р╕ер╕Фр╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Лр╕╖р╣Йр╕н
- `purchase_approval_level` - р╕гр╕░р╕Фр╕▒р╕Ър╕Бр╕▓р╕гр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤ (NORMAL/MANAGER/EXECUTIVE/BOARD)
- `budget_category` - р╕лр╕бр╕зр╕Фр╕Зр╕Ър╕Ыр╕гр╕░р╕бр╕▓р╕У
- `cost_center` - р╕ир╕╣р╕Щр╕вр╣Мр╕Хр╣Йр╕Щр╕Чр╕╕р╕Щ
- `asset_type` - р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕кр╕┤р╕Щр╕Чр╕гр╕▒р╕Юр╕вр╣М (CONSUMABLE/FIXED_ASSET/LOW_VALUE/MEDICAL_DEVICE/DRUG/SUPPLY)

### 2. р╕Хр╕▓р╕гр╕▓р╕Зр╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤: `tbl_inv_category_attributes`

р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕│р╕лр╕Щр╕Фр╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕бр╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И:

- `attribute_code` - р╕гр╕лр╕▒р╕кр╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤
- `attribute_name_th` - р╕Кр╕╖р╣Ир╕нр╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╕ар╕▓р╕йр╕▓р╣Др╕Чр╕в
- `attribute_type` - р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Вр╣Йр╕нр╕бр╕╣р╕е (TEXT/NUMBER/DECIMAL/DATE/BOOLEAN/SELECT/MULTISELECT/FILE)
- `is_required` - р╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╕Хр╣Йр╕нр╕Зр╕Бр╕гр╕нр╕Б
- `validation_rules` - р╕Бр╕Ор╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ (JSON)
- `options` - р╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б (р╕кр╕│р╕лр╕гр╕▒р╕Ъ SELECT/MULTISELECT)

### 3. р╕Хр╕▓р╕гр╕▓р╕Зр╕Др╣Ир╕▓р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤: `tbl_inv_item_attribute_values`

р╣Ар╕Бр╣Зр╕Ър╕Др╣Ир╕▓р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓:

- `item_id` - р╕гр╕лр╕▒р╕кр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓ (р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Бр╕▒р╕Ъ tbl_inv_requisition_items)
- `category_id` - р╕гр╕лр╕▒р╕кр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И
- `attribute_id` - р╕гр╕лр╕▒р╕кр╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤
- `attribute_value` - р╕Др╣Ир╕▓р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤
- `attribute_value_json` - р╕Др╣Ир╕▓р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╣Бр╕Ър╕Ъ JSON (р╕кр╕│р╕лр╕гр╕▒р╕Ъ MULTISELECT)

### 4. р╕Хр╕▓р╕гр╕▓р╕Зр╕Хр╕┤р╕Фр╕Хр╕▓р╕б: `tbl_inv_category_usage_logs`

р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И:

- `category_id` - р╕гр╕лр╕▒р╕кр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И
- `item_id` - р╕гр╕лр╕▒р╕кр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓
- `action_type` - р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Бр╕▓р╕гр╕Бр╕гр╕░р╕Чр╕│ (CREATE/UPDATE/DELETE/APPROVE/REJECT)
- `old_values` / `new_values` - р╕Др╣Ир╕▓р╣Ар╕Фр╕┤р╕б/р╣Гр╕лр╕бр╣И (JSON)

## ЁЯУК р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ

### р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕лр╕ер╕▒р╕Б
1. **р╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕Чр╕▓р╕Зр╕Бр╕▓р╕гр╣Бр╕Юр╕Чр╕вр╣М** (MEDICAL_DEVICES) - р╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
2. **р╕вр╕▓р╣Бр╕ер╕░р╣Ар╕зр╕Кр╕ар╕▒р╕Ур╕Ср╣М** (DRUGS) - р╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
3. **р╕зр╕▒р╕кр╕Фр╕╕р╕кр╕┤р╣Йр╕Щр╣Ар╕Ыр╕ер╕╖р╕нр╕З** (SUPPLIES) - р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
4. **р╕зр╕▒р╕кр╕Фр╕╕р╕кр╕│р╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ** (OFFICE_SUPPLIES) - р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
5. **р╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕Др╕нр╕бр╕Юр╕┤р╕зр╣Ар╕Хр╕нр╕гр╣М** (IT_EQUIPMENT) - р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
6. **р╣Ар╕Яр╕нр╕гр╣Мр╕Щр╕┤р╣Ар╕Ир╕нр╕гр╣М** (FURNITURE) - р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
7. **р╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕лр╣Йр╕нр╕Зр╕Ыр╕Пр╕┤р╕Ър╕▒р╕Хр╕┤р╕Бр╕▓р╕г** (LABORATORY) - р╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
8. **р╕зр╕▒р╕кр╕Фр╕╕р╕Лр╣Ир╕нр╕бр╕Ър╕│р╕гр╕╕р╕З** (MAINTENANCE) - р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в

### р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕вр╣Ир╕нр╕в - р╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕Чр╕▓р╕Зр╕Бр╕▓р╕гр╣Бр╕Юр╕Чр╕вр╣М
- р╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в (MONITORING_DEVICES)
- р╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕зр╕┤р╕Щр╕┤р╕Ир╕Йр╕▒р╕в (DIAGNOSTIC_DEVICES)
- р╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕Ьр╣Ир╕▓р╕Хр╕▒р╕Ф (SURGICAL_DEVICES)
- р╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕Ър╕│р╕Ър╕▒р╕Ф (THERAPEUTIC_DEVICES)

### р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕вр╣Ир╕нр╕в - р╕вр╕▓р╣Бр╕ер╕░р╣Ар╕зр╕Кр╕ар╕▒р╕Ур╕Ср╣М
- р╕вр╕▓р╕Хр╕▓р╕бр╣Гр╕Ър╕кр╕▒р╣Ир╕Зр╣Бр╕Юр╕Чр╕вр╣М (PRESCRIPTION_DRUGS)
- р╕вр╕▓р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕бр╕╡р╣Гр╕Ър╕кр╕▒р╣Ир╕Зр╣Бр╕Юр╕Чр╕вр╣М (OTC_DRUGS)
- р╕зр╕▒р╕Др╕Лр╕╡р╕Щ (VACCINES)
- р╕Бр╣Кр╕▓р╕Лр╕Чр╕▓р╕Зр╕Бр╕▓р╕гр╣Бр╕Юр╕Чр╕вр╣М (MEDICAL_GASES)

## ЁЯФз р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Юр╕┤р╣Ар╕ир╕й

### 1. р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
```sql
-- р╕Фр╕╣р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
SELECT * FROM vw_patient_required_categories;

-- р╕Фр╕╣р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕ HN
SELECT * FROM tbl_inv_item_categories 
WHERE requires_hn = 1 AND is_active = 1;
```

### 2. р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б
```sql
-- р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╣Гр╕лр╕бр╣Ир╣Гр╕лр╣Йр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И
INSERT INTO tbl_inv_category_attributes (
  category_id, attribute_code, attribute_name_th, 
  attribute_type, is_required, options, created_by_user_id
) VALUES (
  1, 'BRAND', 'р╕вр╕╡р╣Ир╕лр╣Йр╕н', 'TEXT', 0, NULL, 'USER001'
);

-- р╕Фр╕╣р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╕Вр╕нр╕Зр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И
SELECT * FROM tbl_inv_category_attributes 
WHERE category_id = 1 AND is_active = 1;
```

### 3. р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
```sql
-- р╕Фр╕╣р╕кр╕Цр╕┤р╕Хр╕┤р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И
SELECT * FROM vw_category_usage_stats;

-- р╕Фр╕╣р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И
SELECT * FROM tbl_inv_category_usage_logs 
WHERE category_id = 1 
ORDER BY date_created DESC;
```

## ЁЯУИ Views р╕Чр╕╡р╣Ир╕бр╕╡р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣М

### 1. `vw_category_hierarchy`
р╣Бр╕кр╕Фр╕Зр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╣Бр╕Ър╕Ъ hierarchical р╕Юр╕гр╣Йр╕нр╕бр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З

### 2. `vw_patient_required_categories`
р╣Бр╕кр╕Фр╕Зр╣Ар╕Йр╕Юр╕▓р╕░р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в

### 3. `vw_category_usage_stats`
р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕┤р╕Хр╕┤р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И

## ЁЯЪА Stored Procedures

### 1. `update_all_category_paths()`
р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х category_path р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

### 2. `get_category_hierarchy(parent_id)`
р╕Фр╕╢р╕Зр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╣Бр╕Ър╕Ъ hierarchical

### 3. `get_patient_required_categories()`
р╕Фр╕╢р╕Зр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕░р╕Ър╕╕р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в

## ЁЯТб р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### 1. р╣Ар╕Юр╕┤р╣Ир╕бр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╣Гр╕лр╕бр╣И
```sql
INSERT INTO tbl_inv_item_categories (
  category_code, category_name_th, category_name_en,
  parent_category_id, category_level,
  requires_patient_info, requires_hn, requires_patient_name,
  purchase_approval_level, asset_type,
  created_by_user_id
) VALUES (
  'NEW_CATEGORY', 'р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╣Гр╕лр╕бр╣И', 'New Category',
  1, 2, 1, 1, 1, 'MANAGER', 'MEDICAL_DEVICE', 'USER001'
);
```

### 2. р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╣Гр╕лр╣Йр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И
```sql
INSERT INTO tbl_inv_category_attributes (
  category_id, attribute_code, attribute_name_th,
  attribute_type, is_required, options, created_by_user_id
) VALUES (
  1, 'SPECIFICATION', 'р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Чр╕▓р╕Зр╣Ар╕Чр╕Др╕Щр╕┤р╕Д', 'TEXT', 1, NULL, 'USER001'
);
```

### 3. р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Др╣Ир╕▓р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╕Вр╕нр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓
```sql
INSERT INTO tbl_inv_item_attribute_values (
  item_id, category_id, attribute_id, attribute_value, created_by_user_id
) VALUES (
  123, 1, 5, 'р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Чр╕▓р╕Зр╣Ар╕Чр╕Др╕Щр╕┤р╕Др╕Вр╕нр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓', 'USER001'
);
```

## ЁЯФТ р╕Бр╕▓р╕гр╕гр╕▒р╕Бр╕йр╕▓р╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в

### 1. Foreign Key Constraints
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕зр╕▓р╕бр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕Вр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е
- р╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕▓р╕гр╕ер╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╕Цр╕╣р╕Бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### 2. Audit Fields
- р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Ьр╕╣р╣Йр╕кр╕гр╣Йр╕▓р╕З/р╣Бр╕Бр╣Йр╣Др╕В
- р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╣Ар╕зр╕ер╕▓р╣Гр╕Щр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З/р╣Бр╕Бр╣Йр╣Др╕В

### 3. Soft Delete
- р╣Гр╕Кр╣Й `is_active` р╣Бр╕Чр╕Щр╕Бр╕▓р╕гр╕ер╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕гр╕┤р╕З
- р╕гр╕▒р╕Бр╕йр╕▓р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

## ЁЯУЛ р╕Бр╕▓р╕гр╕Ър╕│р╕гр╕╕р╕Зр╕гр╕▒р╕Бр╕йр╕▓

### 1. р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Ар╕Фр╕Х category_path
```sql
CALL update_all_category_paths();
```

### 2. р╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е
```sql
-- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕бр╕╡ parent
SELECT * FROM tbl_inv_item_categories 
WHERE parent_category_id IS NOT NULL 
AND parent_category_id NOT IN (SELECT id FROM tbl_inv_item_categories);

-- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕бр╕╡р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И
SELECT * FROM tbl_inv_category_attributes 
WHERE category_id NOT IN (SELECT id FROM tbl_inv_item_categories);
```

### 3. р╕Бр╕▓р╕гр╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕е
```sql
-- р╕ер╕Ъ log р╣Ар╕Бр╣Ир╕▓ (р╕бр╕▓р╕Бр╕Бр╕зр╣Ир╕▓ 1 р╕Ыр╕╡)
DELETE FROM tbl_inv_category_usage_logs 
WHERE date_created < DATE_SUB(NOW(), INTERVAL 1 YEAR);
```

## ЁЯОп р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣Мр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ъ

1. **р╕вр╕╖р╕Фр╕лр╕вр╕╕р╣Ир╕Щ**: р╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Фр╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╣Др╕Фр╣Йр╕Зр╣Ир╕▓р╕в
2. **р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в**: р╕Бр╕│р╕лр╕Щр╕Фр╕Др╕зр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕вр╣Др╕Фр╣Й
3. **р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б**: р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╣Ар╕Йр╕Юр╕▓р╕░р╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И
4. **р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ**: р╕Фр╕╣р╕кр╕Цр╕┤р╕Хр╕┤р╣Бр╕ер╕░р╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
5. **р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Лр╕╖р╣Йр╕н**: р╕Бр╕│р╕лр╕Щр╕Фр╕гр╕░р╕Фр╕▒р╕Ър╕Бр╕▓р╕гр╕нр╕Щр╕╕р╕бр╕▒р╕Хр╕┤р╣Бр╕ер╕░р╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕кр╕┤р╕Щр╕Чр╕гр╕▒р╕Юр╕вр╣М
6. **Hierarchical**: р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕вр╣Ир╕нр╕вр╕лр╕ер╕▓р╕вр╕гр╕░р╕Фр╕▒р╕Ъ
7. **Audit Trail**: р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф 